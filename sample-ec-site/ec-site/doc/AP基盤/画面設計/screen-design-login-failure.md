# ログイン失敗画面 設計書

## 1. 概要

- **画面名**: ログイン失敗画面
- **URL**: `/login?error=xxx` (想定, `xxx` はエラー内容に応じて変化)
- **ファイルパス**: `presentation/src/main/resources/templates/loginFailure.html` (想定)
- **概要**: ログインに失敗した際に表示される画面。URLパラメータ `error` の値に応じてエラー内容を通知し、ログイン画面へ戻るよう促す。

## 2. 画面レイアウト

画面中央にメッセージと戻るボタンを配置します。

```
+------------------------------------------------+
|                                                |
|               ECサイト - ログイン失敗          |
|                                                |
+------------------------------------------------+
|                                                |
|  エラーメッセージがここに表示されます          |
|  (例: ユーザーIDまたはパスワードが正しくありません。) |
|                                                |
|                                                |
|             [ ログイン画面に戻る ]             |
|                                                |
+------------------------------------------------+
```

## 3. 画面項目一覧

この画面にはユーザーが入力する項目はありません。

## 4. アクション

| No. | アクション名       | 概要                   | 遷移先         |
|:----|:-------------------|:-----------------------|:---------------|
| 1   | ログイン画面に戻る | ボタンクリックでログイン画面へ遷移する | ログイン画面 (`/login`) |

## 5. 表示メッセージ一覧

URLパラメータ `error` の値に応じて、画面に表示するメッセージを切り替えます。

| `error` パラメータの値 | 表示条件                       | メッセージ内容                                     |
|:-----------------------|:-------------------------------|:---------------------------------------------------|
| `bad_credentials`      | 認証に失敗した場合             | ユーザーIDまたはパスワードが正しくありません。     |
| `locked`               | アカウントがロックされている場合 | このアカウントはロックされています。管理者に連絡してください。 |
| `disabled`             | アカウントが無効化されている場合 | このアカウントは現在無効です。                     |
| `required`             | ユーザーID/パスワード未入力    | ユーザーIDとパスワードを入力してください。         |
| (パラメータなし)       | その他技術的な問題が発生した場合 | 不明なエラーが発生しました。時間をおいて再度お試しください。 |

## 6. 補足

- 本画面は `screen-flow.puml` の変更に伴い追加された画面です。
- 従来はログイン画面 (`/login`) にてエラーメッセージを表示していましたが、エラー専用画面に分離する構成に変更されました。
- URLパラメータ `error` を使用して、エラーの内容を特定します。
