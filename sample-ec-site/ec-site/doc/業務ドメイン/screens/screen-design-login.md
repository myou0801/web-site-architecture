# ログイン画面 設計書

## 1. 概要

- **画面名**: ログイン画面
- **URL**: `/login`
- **ファイルパス**: `presentation/src/main/resources/templates/login.html` (想定)
- **概要**: ユーザーIDとパスワードを入力してシステムにログインするためのエントリーポイントとなる画面。

## 2. 画面レイアウト

画面中央にログインフォームを配置するシンプルなレイアウトを採用します。

```
+------------------------------------------------+
|                                                |
|                  ECサイト ログイン             |
|                                                |
+------------------------------------------------+
|                                                |
|  エラーメッセージがここに表示されます          |
|                                                |
|  ユーザーID: [_________________]                 |
|                                                |
|  パスワード: [_________________] (●●●●●●●)   |
|                                                |
|                                                |
|             [ ログイン ]                       |
|                                                |
+------------------------------------------------+
```

## 3. 画面項目一覧

| No. | 項目名     | 項目ID (`name`属性) | 型         | 必須 | 説明                         | バリデーション (クライアントサイド) |
|:----|:-----------|:--------------------|:-----------|:----:|:-----------------------------|:------------------------------------|
| 1   | ユーザーID | `userId`            | テキストボックス | ○    | ログインに使用するID         | ・必須入力チェック                |
| 2   | パスワード | `password`          | パスワード   | ○    | ログインに使用するパスワード | ・必須入力チェック                |

## 4. アクション

| No. | アクション名 | 概要                                       | 成功時の遷移                                                                            | 失敗時の処理                                                                                           |
|:----|:-------------|:-------------------------------------------|:-----------------------------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------|
| 1   | ログイン     | 入力されたIDとパスワードで認証処理を呼び出す | ・**パスワード変更不要な場合:** メニュー画面へ<br>・**パスワード変更必須の場合:** パスワード変更画面へ | ・認証エラー: 画面上部にエラーメッセージを表示<br>・アカウントロック中: 画面上部にロック中である旨のメッセージを表示 |

## 5. エラーメッセージ一覧

Spring Securityが生成する例外に応じて、Controller側で適切なメッセージを画面に渡すことを想定します。

| No. | 表示条件                       | メッセージ内容                                     |
|:----|:-------------------------------|:---------------------------------------------------|
| 1   | 認証に失敗した場合             | ユーザーIDまたはパスワードが正しくありません。     |
| 2   | ユーザーIDまたはパスワードが未入力の場合 | ユーザーIDとパスワードを入力してください。         |
| 3   | アカウントが無効化されている場合 | このアカウントは現在無効です。                     |
| 4   | アカウントがロックされている場合 | このアカウントはロックされています。管理者に連絡してください。 |

